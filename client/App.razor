@page "/"
@using System.Threading.Tasks
@using Microsoft.JSInterop
@using System.Net.Http
@using System.Net.Http.Headers

@inject IJSRuntime JSRuntime
@inject HttpClient http


<BECanvas Width="1280" Height="720" @ref="_canvasReference" ></BECanvas>


@code {
    private WebGLContext _context;
    protected BECanvasComponent _canvasReference;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        this._context = await this._canvasReference.CreateWebGLAsync();
        new LegendOfWorlds.Engine.World(JSRuntime, http);
        LegendOfWorlds.Engine.World.Init(_context);
    }
}
