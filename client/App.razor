@page "/"
@using System.Threading.Tasks

<BECanvas Width="1280" Height="720" @ref="_canvasReference" ></BECanvas>

@code {
    private WebGLContext _context;

    protected BECanvasComponent _canvasReference;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        this._context = await this._canvasReference.CreateWebGLAsync();
        
        await this._context.ClearColorAsync(0, 0, 0, 1);
        await this._context.ClearAsync(BufferBits.COLOR_BUFFER_BIT);
        await LegendOfWorlds.Engine.World.Init(_context);
    }

}
